<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>this关键字</title>
</head>
<body>
<script>
    /**纯粹的函数调用
     *全局性函数调用，因此this就代表全局对象Global。
     * @type {number}
     */
    var x = 1;
    function test(){
        console.log(this.x);
    }
    test(); // 1

    var x1 = 1;
    function test1(){
        this.x1 = 0;
    }
    test1();
    console.log(x1); //0

    /**
     * 作为对象方法的调用,这时this就指这个上级对象。
     * 所谓构造函数，就是通过这个函数生成一个新对象（object）。这时，this就指这个新对象。
     */
    function test2(){
        console.log(this.x2);
    }
    var o = {};
    o.x2 = 1;
    o.m = test2;
    o.m(); // 1
    /**
     * 作为构造函数用，
     */
    var x3 = 2;
    function test3(){
        this.x3 = 1;
    }
    var o1 = new test3();
    console.log(x3); //2
    /**
     *  apply调用
     *  apply()是函数对象的一个方法，它的作用是改变函数的调用对象，它的第一个参数就表示改变后的调用这个函数的对象。因此，this指的就是这第一个参数。
     */
    var x4 = 0;
    function test4(){
        console.log(this.x4);
    }
    var o2={};
    o2.x4 = 1;
    o2.m1 = test4;
    o2.m1.apply(); //0
</script>
</body>
</html>